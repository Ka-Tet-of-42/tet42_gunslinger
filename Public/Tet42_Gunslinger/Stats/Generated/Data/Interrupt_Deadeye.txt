new entry "Deadeye_Overkill"
	type "InterruptData"
		data "TargetRadius" "18"
		data "DisplayName" "he1a4e934051c456a9d88d20a33831eb15b23;1"
		data "Description" "habf47387ee1f474a9228634394dabe4568d1;1"
		data "DescriptionParams" "LevelMapValue(Overkill)"
		data "Icon" "PassiveFeature_ImprovedCritical"
		data "InterruptContext" "OnCastHit"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Target,context.Observer) and not IsDeadeyeReaction() and not Enemy(context.Source, context.Observer) and HasFunctor(StatsFunctorType.DealDamage) and IsHit() and not AnyEntityIsItem() and HasLastAttackTriggered() and not IsKillingBlow()"
		data "Properties" "DealDamage(LevelMapValue(Overkill), Piercing, Magical)"
		data "Cost" "Ka:3"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Deadeye_SappingAttack"
	type "InterruptData"
		data "TargetRadius" "18"
		data "DisplayName" "h28e74b07e6694419b246a63ff240a9486990;1"
		data "Description" "hae837fdd43ef40709050c9e219bce71daa21;1"
		data "Icon" "Action_MagicItem_PierceTheWeak"
		data "InterruptContext" "OnCastHit"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Target,context.Observer) and not IsDeadeyeReaction() and not Enemy(context.Source, context.Observer) and IsHit() and not AnyEntityIsItem() and HasLastAttackTriggered()"
		data "Properties" "UseSpell(SWAP,Target_Deadeye_SappingAttack,true,true,true)"
		data "Cost" "Ka:1"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Deadeye_Ironsides"
	type "InterruptData"
		data "DisplayName" "ha3c614ae9fda4eda827a64e66a3fcc1bfgb2;1"
		data "Description" "hf70fcffeb6324a149472b9597668882c99c8;1"
		data "Icon" "Spell_Shield"
		data "InterruptContext" "OnPostRoll;OnPreDamage"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedAttack() and IsFlatValueInterruptInteresting(3, context.Source))) and HasLastAttackTriggered()"
		data "Properties" "IF(HasInterruptedAttack()):AdjustRoll(-3);ApplyStatus(OBSERVER_OBSERVER,DEADEYES_IRONSIDES_AC,100,1)"
		data "Cost" "Ka:2"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Deadeye_Riposte"
	type "InterruptData"
		data "TargetRadius" "18"
		data "DisplayName" "h586f2043efb64d598864a3d3b24958ac92cb;1"
		data "Description" "hffea3f5915744a5f9473a628cee1b33bg37g;1"
		data "Icon" "Action_Riposte"
		data "InterruptContext" "OnCastHit"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and not IsDeadeyeReaction() and IsMeleeAttack() and IsMiss() and not HasStatus('INVISIBILITY') and not AnyEntityIsItem() and not IsKillingBlow() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
		data "Properties" "UseSpell(SWAP,Target_Deadeye_Riposte,true,true,true);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_RIPOSTE,100,0)"
		data "Cost" "Ka:1"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Deadeye_Kick"
	type "InterruptData"
		data "TargetRadius" "18"
		data "DisplayName" "h084529f792c4477c85540bfc2fb16cd07479;1"
		data "Description" "hf19697ebbb54424da0ff45ea04ea4da811a6;1"
		data "Icon" "GJ_KICK"
		data "InterruptContext" "OnCastHit"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and IsMeleeAttack() and not IsDeadeyeReaction() and not HasStatus('INVISIBILITY') and not AnyEntityIsItem() and HasLastAttackTriggered()"
		data "Properties" "UseSpell(SWAP,Target_Deadeye_Kick,true,true,true)"
		data "Cost" "Ka:1"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Deadeye_Recede"
	type "InterruptData"
		data "TargetRadius" "18"
		data "DisplayName" "ha9223000f55743bb9e2d053ee8905771cd7a;2"
		data "Description" "h093f7b00f62744219d420008266efd022add;5"
		data "Icon" "Action_Monk_ShadowStep"
		data "InterruptContext" "OnCastHit"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Source,context.Observer) and Enemy(context.Target,context.Observer) and not IsKillingBlow() and not AnyEntityIsItem() and HasLastAttackTriggered()"
		data "Properties" "ApplyStatus(OBSERVER_OBSERVER,DEADEYE_RECEDE_ACTIVATION,100,1)"
		data "Cost" "Ka:2"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Deadeye_Countershot"
	type "InterruptData"
		data "DisplayName" "h9c738828b4094c639b9224157d8c81410b00;1"
		data "Description" "hbd0e6d32bd3b481dacc3da8d644bf5d78694;1"
		data "Icon" "Spell_Abjuration_Counterspell"
		data "InterruptContext" "OnSpellCast"
		data "InterruptContextScope" "Nearby"
		data "Container" "YesNoDecision"
		data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not IsDeadeyeReaction() and not Self(context.Source, context.Observer) and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Source) and CounterspellCheck(context.Observer, context.Source)"
		data "Roll" "TryCounterspellHigherLevel(3)"
		data "Success" "Counterspell();UseSpell(OBSERVER_SOURCE,Target_Deafening_Shot,true,true,true)"
		data "Failure" "UseSpell(OBSERVER_SOURCE,DEADEYE_MH_RANGED_ATTACK,true,true,true)"
		data "Cost" "GSAmmo:1;Ka:2"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Deadeye_Cunning"
	type "InterruptData"
	using "Interrupt_Smite_Divine"
		data "DisplayName" "h9a8a015fa4e84db59f5d62a480dda4f34a7a;1"
		data "Description" "hc1ceb0105c93432f8db3c2e5910661231713;1"
		data "Icon" "Action_Mag_SilencingBlade"
		data "DescriptionParams" ""
		data "ExtraDescriptionParams" ""
		data "InterruptContext" "OnCastHit"
		data "Conditions" "IsMeleeRangedAttack() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Target) and IsAbleToReact(context.Observer) and Enemy(context.Target,context.Observer) and not Enemy(context.Source, context.Observer) and not Item() and IsMeleeRangedAttack() and Self(context.Source,context.Observer) and IsHit() and not IsKillingBlow() and not IsDeadeyeReaction()"
		data "Properties" "ApplyStatus(OBSERVER_OBSERVER,DEADEYE_CUNNING_ACTIVATION,100,1)"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"
		data "Cost" "Ka:1"

new entry "Deadeye_Rebuke"
	type "InterruptData"
		data "DisplayName" "hc36874b7e2d6468c8d006d5400db5aa1f5d7;1"
		data "Description" "h9b55ce815ed149cd84820ec274bdbb282g51;3"
		data "DescriptionParams" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType)"
		data "Icon" "Heartpiercer"
		data "InterruptContext" "OnCastHit"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "not HasVerbalComponentBlocked(context.Observer) and IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and HasFunctor(StatsFunctorType.DealDamage) and IsHit() and not IsKillingBlow() and not AnyEntityIsItem() and HasLastAttackTriggered()"
		data "Properties" "UseSpell(SWAP,Target_Deadeye_Rebuke,true,true,true)"
		data "Cost" "Ka:1"
		data "Stack" "Deadeye_Rebuke"
		data "InterruptDefaultValue" "Enabled;Ask"
		data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "Cooldown" "OncePerTurn"

new entry "Interrupt_Deadeye_SneakAttack_13"
	type "InterruptData"
	using "Interrupt_SneakAttack"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(7d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(7d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"
		data "Cost" "SneakAttack_Charge:1"
		data "Stack" "SneakAttack"
		data "Cooldown" "OncePerTurn"
		data "InterruptDefaultValue" "Enabled"
		data "EnableCondition" "HasActionResource('SneakAttack_Charge',1,0,false,false,context.Source) and (WieldingFinesseWeaponInSpecificHand(context.Source, false) or WieldingFinesseWeaponInSpecificHand(context.Source, true) or WieldingWeapon('Ammunition', false, true, context.Source) or SpellTypeIs(SpellType.Throw)) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
		data "EnableContext" "OnActionResourcesChanged;OnEquip"

new entry "Interrupt_Deadeye_SneakAttack_Critical_13"
	type "InterruptData"
	using "Interrupt_SneakAttack_Critical"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(7d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(7d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"

new entry "Interrupt_Deadeye_SneakAttack_15"
	type "InterruptData"
	using "Interrupt_SneakAttack"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(8d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(8d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"
		data "Cost" "SneakAttack_Charge:1"
		data "Stack" "SneakAttack"
		data "Cooldown" "OncePerTurn"
		data "InterruptDefaultValue" "Enabled"
		data "EnableCondition" "HasActionResource('SneakAttack_Charge',1,0,false,false,context.Source) and (WieldingFinesseWeaponInSpecificHand(context.Source, false) or WieldingFinesseWeaponInSpecificHand(context.Source, true) or WieldingWeapon('Ammunition', false, true, context.Source) or SpellTypeIs(SpellType.Throw)) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
		data "EnableContext" "OnActionResourcesChanged;OnEquip"

new entry "Interrupt_Deadeye_SneakAttack_Critical_15"
	type "InterruptData"
	using "Interrupt_SneakAttack_Critical"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(8d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(8d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"

new entry "Interrupt_Deadeye_SneakAttack_17"
	type "InterruptData"
	using "Interrupt_SneakAttack"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(9d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(9d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"
		data "Cost" "SneakAttack_Charge:1"
		data "Stack" "SneakAttack"
		data "Cooldown" "OncePerTurn"
		data "InterruptDefaultValue" "Enabled"
		data "EnableCondition" "HasActionResource('SneakAttack_Charge',1,0,false,false,context.Source) and (WieldingFinesseWeaponInSpecificHand(context.Source, false) or WieldingFinesseWeaponInSpecificHand(context.Source, true) or WieldingWeapon('Ammunition', false, true, context.Source) or SpellTypeIs(SpellType.Throw)) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
		data "EnableContext" "OnActionResourcesChanged;OnEquip"

new entry "Interrupt_Deadeye_SneakAttack_Critical_17"
	type "InterruptData"
	using "Interrupt_SneakAttack_Critical"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(9d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(9d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"

new entry "Interrupt_Deadeye_SneakAttack_19"
	type "InterruptData"
	using "Interrupt_SneakAttack"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(10d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(10d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"
		data "Cost" "SneakAttack_Charge:1"
		data "Stack" "SneakAttack"
		data "Cooldown" "OncePerTurn"
		data "InterruptDefaultValue" "Enabled"
		data "EnableCondition" "HasActionResource('SneakAttack_Charge',1,0,false,false,context.Source) and (WieldingFinesseWeaponInSpecificHand(context.Source, false) or WieldingFinesseWeaponInSpecificHand(context.Source, true) or WieldingWeapon('Ammunition', false, true, context.Source) or SpellTypeIs(SpellType.Throw)) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
		data "EnableContext" "OnActionResourcesChanged;OnEquip"

new entry "Interrupt_Deadeye_SneakAttack_Critical_19"
	type "InterruptData"
	using "Interrupt_SneakAttack_Critical"
		data "Properties" "IF(IsMeleeAttack()):DealDamage(10d6, MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(10d6, MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical)"
